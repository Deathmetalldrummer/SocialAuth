function userInfo(e,n,o){var s="<h2>"+(n||"userName")+"</h2>",i='<img src="'+(e||"#")+'" alt="'+(n||"userName")+'">',t="<p>"+(o||"userDesc")+"</p>";$(".userInfo").html($(i+s+t))}function clearUserInfo(){$(".userInfo").html("<h1>Молви, друг, и войди!</h1>")}function googleSingIn(){googleAuth.signIn().then(function(){window.googleUser=googleAuth.currentUser.get(),console.log("User signed in"),googleViewInfo()})}function googleSignOut(){googleAuth.signOut().then(function(){console.log(googleUser.isSignedIn(),"User signed out."),googleViewInfo()})}function googleViewInfo(){if(googleAuth.isSignedIn.get()&&googleUser.isSignedIn()){var e=googleUser.getBasicProfile().getName();userInfo(googleUser.getBasicProfile().getImageUrl(),e,googleUser.getBasicProfile().getEmail())}else clearUserInfo()}function vkSignIn(){window.vkUsers={},VK.Auth.login(function(n){VK.Api.call("users.get",{user_ids:n.session.mid,fields:"photo_max_orig,last_seen",v:"5.73"},function(e){e.response&&(vkUsers.avatar=e.response[0].photo_max_orig,vkUsers.name=e.response[0].first_name+""+e.response[0].last_name,vkUsers.desc=e.response[0].last_seen.time,vkViewInfo(n.status))})})}function vkSignOut(){VK.Auth.logout(function(e){vkViewInfo(e.status)})}function vkViewInfo(e){"connected"!==e?clearUserInfo():userInfo(vkUsers.avatar,vkUsers.name,vkUsers.desc)}function ghSingIn(){OAuth.initialize("ATBfZdbaUFfsJY_TDk82H87HbLE"),OAuth.popup("github").then(function(n){window.githubtoken=n.access_token,n.get("/user").then(function(e){console.log("self data:",n),userInfo(e.avatar_url,e.name,e.id)})})}function ghSignOut(){OAuth.popup("github").done(function(e){e.del(githubtoken).done(function(e){console.log(!0),console.log(e),console.log(e)}).fail(function(e){})}).fail(function(e){})}gapi.load("auth2",function(){window.googleAuth=auth2=gapi.auth2.init({client_id:"30989400492-62vbas87b820qdfjl9idukhone5tjblh.apps.googleusercontent.com"})}),$(function(){VK.init({apiId:7122028})});